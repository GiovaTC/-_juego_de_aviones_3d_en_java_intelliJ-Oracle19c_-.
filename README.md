# -_juego_de_aviones_3d_en_java_intelliJ-Oracle19c_-.
# üõ©Ô∏è Juego de Aviones 3D en Java (IntelliJ + Oracle 19c) :.

<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/4fa3043a-2c94-4f2d-a5cc-40c080e9f481" />   

## üöÄ Descripci√≥n breve :
Proyecto educativo en Java con **jMonkeyEngine (jME3)** que simula un juego 3D sencillo.  
El jugador controla un avi√≥n, observa su tiempo y puntuaci√≥n, y guarda los resultados en **Oracle 19c** mediante JDBC.

---

## üí° Ideal para aprender :
- Gr√°ficos 3D con jMonkeyEngine  
- Conexiones JDBC a Oracle  
- Estructura modular de proyectos Java con Maven e IntelliJ

---

## üìÇ Estructura del proyecto :
```
JuegoAviones3D/
‚îú‚îÄ pom.xml
‚îú‚îÄ README.md
‚îú‚îÄ src/main/java/
‚îÇ  ‚îú‚îÄ com.example.juegoaviones/
‚îÇ  ‚îÇ  ‚îú‚îÄ Main.java
‚îÇ  ‚îÇ  ‚îú‚îÄ GameApp.java
‚îÇ  ‚îÇ  ‚îú‚îÄ PlaneControl.java
‚îÇ  ‚îÇ  ‚îú‚îÄ hud/HUD.java
‚îÇ  ‚îÇ  ‚îú‚îÄ db/DBConfig.java
‚îÇ  ‚îÇ  ‚îú‚îÄ db/PlayerDAO.java
‚îÇ  ‚îÇ  ‚îî‚îÄ model/PlayerScore.java
‚îî‚îÄ assets/
   ‚îú‚îÄ models/ (opcional: modelos .obj/.j3o)
   ‚îî‚îÄ textures/
```

---

## ‚öôÔ∏è Requisitos :
- Java 17+  
- IntelliJ IDEA (con soporte Maven)  
- Oracle 19c (tabla `PLAYER_SCORES`)  
- Driver JDBC Oracle (`ojdbc11.jar`)

---

## üß© Dependencias Maven (`pom.xml`)
```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>juego-aviones-3d</artifactId>
    <version>1.0-SNAPSHOT</version>
    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <jme.version>3.6.0-stable</jme.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.jmonkeyengine</groupId>
            <artifactId>jme3-core</artifactId>
            <version>${jme.version}</version>
        </dependency>
        <dependency>
            <groupId>org.jmonkeyengine</groupId>
            <artifactId>jme3-desktop</artifactId>
            <version>${jme.version}</version>
        </dependency>
        <dependency>
            <groupId>org.jmonkeyengine</groupId>
            <artifactId>jme3-lwjgl</artifactId>
            <version>${jme.version}</version>
        </dependency>
        <dependency>
            <groupId>com.oracle.database.jdbc</groupId>
            <artifactId>ojdbc11</artifactId>
            <version>21.10.0.0</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-simple</artifactId>
            <version>2.0.7</version>
        </dependency>
    </dependencies>
</project>
```

---

## üßÆ Script SQL ‚Äî Tabla Oracle :
```sql
CREATE TABLE PLAYER_SCORES (
  ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  PLAYER_NAME VARCHAR2(100) NOT NULL,
  SCORE NUMBER NOT NULL,
  PLAY_TIME_SECONDS NUMBER NOT NULL,
  PLAY_DATE TIMESTAMP DEFAULT SYSTIMESTAMP
);
```

---

## üéÆ C√≥digo Fuente (resumen principal) :

### Main.java
```java
package com.example.juegoaviones;

public class Main {
    public static void main(String[] args) {
        GameApp app = new GameApp();
        app.start();
    }
}
```

### GameApp.java
```java
// Contiene el motor jME3, c√°mara, controles del avi√≥n y guardado de puntuaci√≥n.
package com.example.juegoaviones;

import com.example.juegoaviones.db.PlayerDAO;
import com.example.juegoaviones.hud.HUD;
import com.example.juegoaviones.model.PlayerScore;
import com.jme3.app.SimpleApplication;
import com.jme3.input.KeyInput;
import com.jme3.input.controls.ActionListener;
import com.jme3.input.controls.KeyTrigger;
import com.jme3.light.DirectionalLight;
import com.jme3.material.Material;
import com.jme3.math.ColorRGBA;
import com.jme3.math.Vector3f;
import com.jme3.scene.Geometry;
import com.jme3.scene.Node;
import com.jme3.scene.shape.Box;

public class GameApp extends SimpleApplication {

    private Node planeNode;
    private float pitch = 0f;
    private float speed = 10f;
    private HUD hud;
    private PlayerDAO playerDAO;
    private long startTime;
    private int score = 0;

    private static final String ACTION_PITCH_UP = "PitchUp";
    private static final String ACTION_PITCH_DOWN = "PitchDown";

    @Override
    public void simpleInitApp() {
        // Avi√≥n como cubo azul
        Box box = new Box(1, 0.3f, 3);
        Geometry geom = new Geometry("Plane", box);
        Material mat = new Material(assetManager, "Common/MatDefs/Misc/Unshaded.j3md");
        mat.setColor("Color", ColorRGBA.Blue);
        geom.setMaterial(mat);

        planeNode = new Node("planeNode");
        planeNode.attachChild(geom);
        planeNode.setLocalTranslation(0, 5, 0);
        rootNode.attachChild(planeNode);

        // Luz
        DirectionalLight sun = new DirectionalLight();
        sun.setDirection(new Vector3f(-0.5f, -1f, -0.5f));
        sun.setColor(ColorRGBA.White);
        rootNode.addLight(sun);

        // C√°mara
        cam.setLocation(new Vector3f(0, 8, 16));
        cam.lookAt(planeNode.getLocalTranslation(), Vector3f.ZERO);

        // Input
        inputManager.addMapping(ACTION_PITCH_UP, new KeyTrigger(KeyInput.KEY_UP));
        inputManager.addMapping(ACTION_PITCH_DOWN, new KeyTrigger(KeyInput.KEY_DOWN));
        inputManager.addListener(actionListener, ACTION_PITCH_UP, ACTION_PITCH_DOWN);

        // HUD y DB
        hud = new HUD(guiNode, guiFont);
        playerDAO = new PlayerDAO();

        startTime = System.currentTimeMillis();
        hud.updateHUD(0, score);
    }

    private final ActionListener actionListener = new ActionListener() {
        public void onAction(String name, boolean isPressed, float tpf) {
            if (name.equals(ACTION_PITCH_UP))
                pitch = isPressed ? 0.8f : 0f;
            if (name.equals(ACTION_PITCH_DOWN))
                pitch = isPressed ? -0.8f : 0f;
        }
    };

    @Override
    public void simpleUpdate(float tpf) {
        Vector3f loc = planeNode.getLocalTranslation();
        loc.addLocal(0, pitch * tpf * 5f, -speed * tpf);
        planeNode.setLocalTranslation(loc);

        cam.setLocation(new Vector3f(loc.x, loc.y + 6f, loc.z + 12f));
        cam.lookAt(planeNode.getLocalTranslation(), Vector3f.UNIT_Y);

        long elapsedSec = (System.currentTimeMillis() - startTime) / 1000;
        hud.updateHUD((int) elapsedSec, score);

        if (loc.z < -1000) endGame();
    }

    private void endGame() {
        long elapsedSec = (System.currentTimeMillis() - startTime) / 1000;
        PlayerScore ps = new PlayerScore("JugadorLocal", score, (int) elapsedSec);
        try {
            playerDAO.insertScore(ps);
            hud.showMessage("‚úÖ Juego terminado. Puntuaci√≥n guardada: " + score);
        } catch (Exception e) {
            hud.showMessage("‚ö†Ô∏è Error guardando en BD: " + e.getMessage());
        }
        stop();
    }
}
```

### HUD.java
```java
// Muestra tiempo y puntuaci√≥n en pantalla.
package com.example.juegoaviones.hud;

import com.jme3.font.BitmapFont;
import com.jme3.font.BitmapText;
import com.jme3.scene.Node;

public class HUD {
    private Node guiNode;
    private BitmapFont guiFont;
    private BitmapText hudText;
    private BitmapText messageText;

    public HUD(Node guiNode, BitmapFont guiFont) {
        this.guiNode = guiNode;
        this.guiFont = guiFont;
        init();
    }

    private void init() {
        hudText = new BitmapText(guiFont, false);
        hudText.setSize(guiFont.getCharSet().getRenderedSize());
        hudText.setLocalTranslation(10, hudText.getLineHeight() * 5, 0);
        guiNode.attachChild(hudText);

        messageText = new BitmapText(guiFont, false);
        messageText.setSize(guiFont.getCharSet().getRenderedSize() + 4);
        messageText.setLocalTranslation(10, messageText.getLineHeight() * 2, 0);
        guiNode.attachChild(messageText);
    }

    public void updateHUD(int seconds, int score) {
        hudText.setText(String.format("Tiempo: %ds | Puntuaci√≥n: %d", seconds, score));
    }

    public void showMessage(String msg) {
        messageText.setText(msg);
    }
}

DBConfig.java
package com.example.juegoaviones.db;

public class DBConfig {
    public static final String URL  = System.getenv().getOrDefault("JDBC_URL", "jdbc:oracle:thin:@localhost:1521/orclpdb1");
    public static final String USER = System.getenv().getOrDefault("JDBC_USER", "game_user");
    public static final String PASS = System.getenv().getOrDefault("JDBC_PASS", "password");

    public static void printConfig() {
        System.out.println("===== Configuraci√≥n JDBC Actual =====");
        System.out.println("URL:  " + URL);
        System.out.println("USER: " + USER);
        System.out.println("PASS: [OCULTA]");
        System.out.println("=====================================");
    }
}
```

### DBConfig.java
```java
package com.example.juegoaviones.db;

public class DBConfig {
    public static final String URL  = System.getenv().getOrDefault("JDBC_URL", "jdbc:oracle:thin:@localhost:1521/orclpdb1");
    public static final String USER = System.getenv().getOrDefault("JDBC_USER", "game_user");
    public static final String PASS = System.getenv().getOrDefault("JDBC_PASS", "password");

    public static void printConfig() {
        System.out.println("===== Configuraci√≥n JDBC Actual =====");
        System.out.println("URL:  " + URL);
        System.out.println("USER: " + USER);
        System.out.println("PASS: [OCULTA]");
        System.out.println("=====================================");
    }
}
```

---

## ‚ñ∂Ô∏è C√≥mo ejecutar :
1. Importa el proyecto en IntelliJ IDEA.  
2. Configura las variables de entorno:
   ```bash
   set JDBC_URL=jdbc:oracle:thin:@localhost:1521/orclpdb1
   set JDBC_USER=game_user
   set JDBC_PASS=12345
   ```
3. Ejecuta `Main.java`.  
4. Usa flechas ‚Üë / ‚Üì para controlar el avi√≥n.

---

## üèÅ Confirmaci√≥n del Juego :
‚úÖ Motor jME3 inicializa correctamente  
‚úÖ Movimiento y c√°mara funcionales  
‚úÖ HUD muestra tiempo y puntuaci√≥n  
‚úÖ Conexi√≥n a Oracle exitosa (PlayerDAO) :.
